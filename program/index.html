<!DOCTYPE html>
<html>
  <head>
    <title>Screenshot App</title>
  </head>
  <body>
    <h1>Screenshot App</h1>
    <button id="screenshotBtn">Take Screenshot</button>
    <img id="screenshot" src="" alt="Screenshot will appear here" />
    <script>
      document
        .getElementById("screenshotBtn")
        .addEventListener("click", async () => {
          try {
            const imgPath = await window.electronAPI.takeScreenshot();
            // Append a query parameter to force the browser to reload the image
            document.getElementById(
              "screenshot"
            ).src = `${imgPath}?${Date.now()}`;
          } catch (error) {
            console.error("Failed to take screenshot:", error);
          }
        });
    </script>
  </body>
</html>
